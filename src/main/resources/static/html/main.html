<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <!-- This file has been downloaded from Bootsnipp.com. Enjoy! -->
    <title>Parallax Single Page - Bootsnipp.com</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="../../css/Bootstrap/bootstrap.css" rel="stylesheet">
    <link href="../../css/d3/nv.d3.min.css" rel="stylesheet">
    <link href="../../css/main.css" rel="stylesheet">
    <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
</head>
<body>
<nav class="navbar navbar-inverse navbar-fixed-top _nav-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand _till60-logo" href="#">
        <img alt="Brand" src="../../images/till60_logo_min.png">
      </a>
      <a href="#" class="_nav-gaol-title-anchor"></a>
    </div>
    <div class="collapse navbar-collapse _nav-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li class="active _home"><a href="#" class="_anchor-home">HOME</a></li>
        <li class="_timeline"><a href="#" class="_anchor-timeline">Timeline</a></li>
        <li class="_profile"><a href="#" class="_anchor-profile">Profile</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="#" class="_anchor-logout">Logout</a></li>
      </ul>
  	</div>
  </div>
</nav>

<div class="parallax">
    <div id="group1" class="parallax-group">
    	<div class="parallax-layer parallax-layer-fore">
            <div class="_goal-layer-title">
            	<div class="text"></div>
            </div>
        </div>
        <div class="parallax-layer parallax-layer-base">
            <div class="container">
                <div class="jumbotron">
                  <h1 class="_goal-title"></h1>
                  <p class="lead _goal-description"></p>
                  <p><strong><small class="_goal-start-date"></small></strong></p>
                </div>
            </div>
        </div>
    </div>
    <div id="group2" class="parallax-group">
        <div class="parallax-layer parallax-layer-base">
            <div class="container">
                <div class="jumbotron">
                  <h1>Group 2 Base Layer</h1>
                  <p class="lead">z-index: 3 will slide under groups 1 and 3</p>
                  <p><a class="btn btn-success btn-lg" href="#" role="button">Learn more</a></p>
                </div>
            </div>
        </div>
        <div class="parallax-layer parallax-layer-back">
            <div class="_chart-container">
            	<div class="_chart-all-stat">
		      		<div id="_today-chart">
					  <svg></svg>
					</div>
		      	</div>
            </div>
        </div>
    </div>
    <div id="group3" class="parallax-group">
        <div class="parallax-layer parallax-layer-fore">
            <div class="_chart-container">
            	<div class="_chart-elements-stat">
		      		<div id="_elements-chart">
					  <svg></svg>
					</div>
		      	</div>
            </div>
        </div>
        <div class="parallax-layer parallax-layer-base">
            <div class="container">
                <div class="jumbotron">
                  <h1>Group 3 Base Layer</h1>
                  <p class="lead">z-index: 4 will slide over group 2 and 4</p>
                  <p><a class="btn btn-success btn-lg" href="#" role="button">Learn more</a></p>
                </div>
            </div>
        </div>
    </div>
    <div id="group4" class="parallax-group">
        <div class="parallax-layer parallax-layer-base">
            <div class="container">
                <div class="jumbotron">
                  <h1>Group 4 Base Layer</h1>
                  <p class="lead">z-index: 2 will slide under group 3 and 5</p>
                  <p><a class="btn btn-success btn-lg" href="#" role="button">Learn more</a></p>
                </div>
            </div>
        </div>
        <div class="parallax-layer parallax-layer-back">
            <div class="_chart-container">
            	<div class="_chart-today-stat">
		      		<div id="_range_chart">
					  <svg></svg>
					</div>
		      	</div>
            </div>
        </div>
        <!-- 
        <div class="parallax-layer parallax-layer-deep">
            <div class="title">Group 4 Deep Background Layer</div>
        </div>
         -->
    </div>
    <div id="group5" class="parallax-group">
        <div class="parallax-layer parallax-layer-fore">
            <div class="_radar-chart-container">
            	<div class="radarChart _chart-radar"></div>
            </div>
        </div>
        <div class="parallax-layer parallax-layer-base">
            <div class="container">
                <div class="jumbotron">
                  <h1>Group 5 Base Layer</h1>
                  <p class="lead">z-index: 3 will slide over group 4 and 6</p>
                  <p><a class="btn btn-warning btn-lg" href="#" role="button">Learn more</a></p>
                </div>
            </div>
        </div>
    </div>
    <!-- 
    <div id="group6" class="parallax-group">
        <div class="parallax-layer parallax-layer-back">
            <div class="title">Group 6 Background Layer</div>
        </div>
        <div class="parallax-layer parallax-layer-base">
            <div class="container">
                <div class="jumbotron">
                  <h1>Group 6 Base Layer</h1>
                  <p class="lead">z-index: 2 will slide under group 5 and 7</p>
                  <p><a class="btn btn-danger btn-lg" href="#" role="button">Learn more</a></p>
                </div>
            </div>
        </div>
    </div>
    <div id="group7" class="parallax-group">
        <div class="parallax-layer parallax-layer-base">
            <div class="container">
                <div class="jumbotron">
                  <h1>Group 7 Base Layer</h1>
                  <p class="lead">z-index: 3 will slide over group 6</p>
                  <p><a class="btn btn-danger btn-lg" href="#" role="button">Learn more</a></p>
                </div>
            </div>
        </div>
        <div class="parallax-layer parallax-layer-back">
            <div class="title">Group 7 Background Layer</div>
        </div>
        <div class="parallax-layer parallax-layer-deep">
            <div class="title">Group 7 Deep Background Layer</div>
        </div>
        <div class="parallax-layer parallax-layer-fore">
            <div class="title">Group 7 Foreground Layer</div>
        </div>
    </div>
     -->
</div>
<script src="../../js/jQuery/jquery-3.1.1.js"></script>
<script src="../../js/Bootstrap/bootstrap.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
<script src="../../js/d3/nv.d3.min.js"></script>
<script src="../../js/d3/radarChart.js"></script>
<script src="../../js/common/cmsessiondb.js"></script>
<script src="../../js/main.js"></script>
<script src="../../js/common/util.js"></script>
<script type="text/javascript">
$(document).ready(function(){
  var $scroller = $('html,body'),
      // cache slides and their offset.top's
      $slides = $('.parallax-group').each(function(idx){
        var target = $(this);
        target.data('y', target.offset().top);
        console.log(target.data('y'));
      }),
      $scrollPrev = $('.scroll-prev'),
      $scrollNext = $('.scroll-next'),
      slideName = '#group';

  $scrollPrev.click(function(e){
    e.preventDefault();
    scrollIt(-1);
  });
  $scrollNext.click(function(e){
    e.preventDefault();
    if (!$scrollNext.data('disabled'))
      scrollIt(1);
  });
  $('a[href^="#"]').on('click', function(event) {
    if (this.hash.replace(/\d+$/, '') === slideName) {
        var target = $(this.hash);
        if( target.length > 0 ) {
          event.preventDefault();
          scrollTop(parseInt(this.hash), target.offset().top);
        }
    }
  });

  $('body').scrollspy({ target: '#navbar', offset: 30 });
  
  function scrollTop(idx, y) {
    $scroller.animate({scrollTop:y},1000, function(){
      if (idx >= $slides.length){
        $scrollNext.find('a').animate({opacity:.1}, 500);
        $scrollNext.data('disabled', true);
      }else{
        $scrollNext.find('a').animate({opacity:1}, 500);
        $scrollNext.data('disabled', false);
      }
    });
  }
  function scrollIt(dir) {
    var idx = getSlideIndex(dir),
        slide = $(slideName+idx),
        toPos = (slide.length > 0 && slide.offset().top)||0;

    scrollTop(idx, toPos);
  }
  function getSlideIndex(dir) {
    var pagePos = $(window).scrollTop(), prevTop = 0, currIdx = -1.
        len = $slides.length;
    for (var i = 1; i <= len; i++) {
      var curr = $(slideName+i),
          next = $(slideName+(i+1)),
          prev = $(slideName+(i-1)),
          nextPos = (next.length > 0 && next.offset().top),
          prevPos = (prev.length > 0 && prev.offset().top),
          currPos = curr.offset().top;

      if (currIdx < 0) { // next
        if (currPos >= pagePos && (
            (nextPos && currPos <= nextPos) || 
            (prevPos && currPos >= prevPos) ) ) {
          currIdx = i;
          break;
        }
      }
    }
    return currIdx + (dir||0)
  }
});
</script>
</body>
</html>
